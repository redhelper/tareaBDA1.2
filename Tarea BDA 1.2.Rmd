---
title: "Tarea 1.2 - Bases de Datos Avanzadas"
output: html_notebook
---

## Bases de datos Documentales
Rafael Calvo | Victor Franchis | Javier Levio
--- | --- | ---
201273506-8 | 201273566-1 | 201273598-k

### Preguntas:

- ¿Cuáles son los 5 países con los mejores vinos rankeados promedio?
- ¿Cuáles son los términos descriptivos a los que más se hacen alusiÃ³n?
- Posibles relaciones entre ellos.
- ¿Qué términos son los más comunes en 3 cepas de vino distintas?
- Generar una nube de palabras con los N términos más comunes.
- ¿Es posible identificar clusters de algún tipo entre los datos analizados?

### Desarrollo:

Inicialmente se importa la librería RMongo y nos conectamos a la BD "*BDA*". Recordar que esta fue creada en la parte 1.1 de pa tarea con la colección "*wines_col*".
```{r}
library(RMongo)
mongo = mongoDbConnect("BDA", "localhost", 27017)
mongo
```
Para probar si funciona se realizará una consulta a los vinos con 100 puntos.
```{r}
example = dbGetQuery(mongo, "wines_col", '{"points": "100"}')
print(example["country"], quote = TRUE, row.names = FALSE)
```


```{r}
```


```{r}
# insertar un documento
output <- dbInsertDocument(mongo, "wines_col", '{"foo": "bar"}')

# queries
# buscar docs con atributo 'foo' de valor 'bar'
output <- dbGetQuery(mongo, "test_data", '{"foo": "bar"}')
output <- dbGetQueryForKeys(mongo, "test_data", 
                                    '{"foo": "bar"}', '{"foo": 1}')
# Cerrar conexiÃ³n a BD
dbDisconnect(mongo)

# si no cabe espacio en la memoria se puede editar el 'heap space' para que acepte mayores tamaÃ±os
options( java.parameters = "-Xmx2g" )
```

### Textos de ejemplo:

Este es un  [enlace](http://rmarkdown.rstudio.com) de ejemplo.

Try executing this chunk by clicking the **Run** button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*. 

```{r}
plot(cars)
```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

